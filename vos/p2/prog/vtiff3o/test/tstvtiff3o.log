let $autousage="none"
write "each of the difpic calls should yield zero differences"
each of the difpic calls should yield zero differences
gen r 50 50
Beginning VICAR task gen
GEN Version 6
GEN task completed
vtiff3o r r.tif
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
vtiff3o-tovic r.tif r1
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
difpic (r,r1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
vtiff3o r r.tif 'packbits
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
vtiff3o-tovic r.tif r1
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
difpic (r,r1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
vtiff3o r r.tif 'lzw
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
vtiff3o-tovic r.tif r1
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
difpic (r,r1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
vtiff3o r r.tif 'tiled
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
vtiff3o-tovic r.tif r1
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
difpic (r,r1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
vtiff3o r r.tif 'tiled 'lzw
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
vtiff3o-tovic r.tif r1
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
difpic (r,r1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
f2 out=lut fun="(samp %256)*(samp%4)" nl=1 ns=1024
Beginning VICAR task f2
F2 version 98-Aug-2015
F2 calculating every pixel
FUNCTION EVALUATED 1024 TIMES
vtiff3o (r,lut) lut.tif
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
vtiff3o-tovic lut.tif (r1,lut1)
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
*** no lookup table in TIFF ***
difpic (r,r1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
difpic (lut,lut1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NS too large, reduced to fit input
 NUMBER OF DIFFERENT PIXELS =  38
gen g 50 50 linc=0
Beginning VICAR task gen
GEN Version 6
GEN task completed
gen b 50 50 sinc=0
Beginning VICAR task gen
GEN Version 6
GEN task completed
vtiff3o (r,g,b) color.tif
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
vtiff3o-tovic  color.tif (r1,g1,b1)
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
difpic (r,r1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
difpic (g,g1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
difpic (b,b1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
vtiff3o (r,g,b) color.tif 'planar
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
vtiff3o-tovic  color.tif (r1,g1,b1)
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
difpic (r,r1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
difpic (g,g1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
difpic (b,b1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
vtiff3o (r,g,b) color.tif 'tiled
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
vtiff3o-tovic  color.tif (r1,g1,b1)
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
difpic (r,r1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
difpic (g,g1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
difpic (b,b1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
vtiff3o (r,g,b) color.tif 'planar 'tiled
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
vtiff3o-tovic  color.tif (r1,g1,b1)
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
difpic (r,r1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
difpic (g,g1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
difpic (b,b1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
vtiff3o (r,g,b) color.tif 'planar 'tiled 'lzw
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
vtiff3o-tovic  color.tif (r1,g1,b1)
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
difpic (r,r1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
difpic (g,g1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
difpic (b,b1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
gen a nl=500 ns=500
Beginning VICAR task gen
GEN Version 6
GEN task completed
vtiff3o a a.tif 'tile tline=128 tsamp=128 'packbits
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
vtiff3o-tovic a.tif a1
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
difpic (a,a1)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
vtiff3o-tovic a.tif a1 'dump
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
gen xxxim1 nl=10 ns=10
Beginning VICAR task gen
GEN Version 6
GEN task completed
gtgen in=xxxim1 'tiecnvrt  +
   geotiff=("GTModelTypeGeoKey=2(ModelTypeGeographic)",  +
          "GeogEllipsoidGeoKey=7030(Ellipse_WGS84)",  +
          "GeogPrimeMeridianGeoKey=40.0",  +
          "ModelTiePointTag=(2,3,0,-110,39,0.0)",  +
          "ModelTiePointTag=(2,10,0,-110,35,0.0)",  +
          "ModelTiePointTag=(10,3,0,-108,39,0.0)",  +
          "GTRasterTypeGeoKey=2(RasterPixelIsPoint)")
Beginning VICAR task gtgen
gtgen version Fri Jan 11 2008
gtlist xxxim1
Beginning VICAR task gtlist
gtlist version 2016-01-13
VICAR GeoTIFF LABEL LIST
The VICAR GeoTIFF label is:
GTMODELTYPEGEOKEY=2(ModelTypeGeographic)
GEOGELLIPSOIDGEOKEY=7030(Ellipse_WGS84)
GEOGPRIMEMERIDIANGEOKEY=40.0
MODELTIEPOINTTAG=(2,3,0,-110,39,0.0)
MODELPIXELSCALETAG=(0.25,0.5714285714286,0.0)
GTRASTERTYPEGEOKEY=2(RasterPixelIsPoint)

The image raster is a 'point' or 'post' type
The centers of the corner pixels are:
VICAR-line    -samp GeoTIFF-samp    -line            East           North
       1.0      1.0          0.0      0.0 -110.5000000000  40.71428571429
       1.0     10.0          9.0      0.0 -108.2500000000  40.71428571429
      10.0      1.0          0.0      9.0 -110.5000000000  35.57142857143
      10.0     10.0          9.0      9.0 -108.2500000000  35.57142857143
The outer corners of the corner pixels are:
VICAR-line    -samp GeoTIFF-samp    -line            East           North
       0.5      0.5         -0.5     -0.5 -110.6250000000  41.00000000000
       0.5     10.5          9.5     -0.5 -108.1250000000  41.00000000000
      10.5      0.5         -0.5      9.5 -110.6250000000  35.28571428571
      10.5     10.5          9.5      9.5 -108.1250000000  35.28571428571
The rotation of the image relative to an E-N geographic frame is:
rotation 1
123
456
789
The scale units of the image are (ignoring sign):
1 sample = 0.2500000000000 map units east
1 line   = 0.5714285714286 map units north
The scale fraction is 1 /      9.8
(assuming mapunit = 1.000000 meters and the map is 10.000000 inches)
vtiff3o xxxim1 xxxim1.tif
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
USING VICAR GEOTIFF LABEL TO CREATE, PARAMETERS IGNORED
exporting GeoTIFF
ush strings xxxim1.tif
vtiff3o-tovic xxxim1.tif xxim2 'dump
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
gen color.vic nl=256 ns=256 nb=3 binc=2
Beginning VICAR task gen
GEN Version 6
GEN task completed
vtiff3o-from color.vic color2.tif
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
vtiff3o-to color2.tif color2.vic
Beginning VICAR task vtiff3o
*** vtiff3o version 2017-08-15 ***
difpic (color.vic,color2.vic)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
disable-log
